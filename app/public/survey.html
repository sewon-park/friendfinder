<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Survey</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
  <!-- <link rel="stylesheet" href="styles.css"> -->

 
</head>

<body>


  <div class="container">
    <h1>Survey Questions</h1>
    <hr>
    <div class="about-you">
      <h2>About You</h2>
      <form>
        <label for="validationDefault01">Name (Required)</label>
        <input type="text" class="form-control" id="name" placeholder="Name" value="" required>
        <label for="validationDefault01">Link to Photo Image (Required)
        </label>
        <input type="text" class="form-control" id="photoLink" placeholder="Link" value="" required>


      </form>
    </div>
    <hr>

    <div class="survey-questions">

      <div class="questionNum">
        <h3>Question 1</h3>
      </div>
      <div class="question">
        <p>You enjoy vibrant social events with lots of people.</p>
      </div>
      <select id="q1">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>

    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 2</h3>
      </div>
      <div class="question">
        <p>You often spend time exploring unrealistic yet intriguing ideas.</p>
      </div>
      <select id="q2">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>


    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 3</h3>
      </div>
      <div class="question">
        <p>Your travel plans are more likely to look like a rough list of ideas than a detailed itinerary.</p>
      </div>
      <select id="q3">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>


    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 4</h3>
      </div>
      <div class="question">
        <p> You often think about what you should have said in a conversation long after it has taken place.</p>
      </div>
      <select id="q4">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>


    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 5</h3>
      </div>
      <div class="question">
        <p> If your friend is sad about something, your first instinct is to support them emotionally, not try to solve
          their problem.</p>
      </div>
      <select id="q5">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>


    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 6</h3>
      </div>
      <div class="question">
        <p>People can rarely upset you.</p>
      </div>
      <select id="q6">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>


    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 7</h3>
      </div>
      <div class="question">
        <p>You often rely on other people to be the ones to start a conversation and keep it going.</p>
      </div>
      <select id="q7">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>

    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 8</h3>
      </div>
      <div class="question">
        <p>If you have to temporarily put your plans on hold, you make sure it is your top priority to get back on track
          as soon as possible.</p>
      </div>
      <select id="q8">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>


    </br>

    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 9</h3>
      </div>
      <div class="question">
        <p>You rarely worry if you made a good impression on someone you met.</p>
      </div>
      <select id="q9">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>

    </br>


    <div class="survey-questions">
      <div class="questionNum">
        <h3>Question 10</h3>
      </div>
      <div class="question">
        <p>It would be a challenge for you to spend the whole weekend all by yourself without feeling bored.</p>
      </div>
      <select id="q10">
        <option selected disabled hidden>Select an option</option>
        <option value="1">1 Strongly disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 Strongly agree</option>
      </select>
    </div>

    </br>

    <button type="button" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>
    <hr>
    <footer class="footer">
      <div class="container">
        <p><a href="/api/friendsData">API All friends</a> | <a href="https://github.com/sewon-park/friendfinder"><i
              class="fab fa-github-square"></i>Github </a></p>
      </div>
    </footer>

  </div>
  <!-- modal -->
  <div class="modal" id="result-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">We found the best match</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h2 id="match-name"></h2>
          <img id="match-photo" src="" alt="Image Not Found" style="max-width: 350px;">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

        </div>
      </div>
    </div>
  </div>


    <!-- JavaScript for Submission Logic -->
    
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script>

  $("#submit").on("click", function (event) {
    var newFriend = {
      "name": $("#name").val().trim(),
      "photo": $("#photoLink").val().trim(),
      "scores": [
        $('#q1').val(),
        $('#q2').val(),
        $('#q3').val(),
        $('#q4').val(),
        $('#q5').val(),
        $('#q6').val(),
        $('#q7').val(),
        $('#q8').val(),
        $('#q9').val(),
        $('#q10').val()
      ]
    }
    console.log(newFriend);


    $.post("/api/friendsData", newFriend,
      function (data) {

        
        if (data) {
          alert("yay");
          $('#match-name').text(data.name);
          $('#match-photo').attr('src', data.photo);
          $("#result-modal").modal('toggle');
        }

        // If a table is available... tell user they on the waiting list.
        else {
          alert("Sorry something went wrong");
        }

        // Clear the form when submitting
        $("#name").val("");
        $("#photoLink").val("");
        $("#q1").val("Select an option");
        $("#q2").val("Select an option");
        $("#q3").val("Select an option");
        $("#q4").val("Select an option");
        $("#q5").val("Select an option");
        $("#q6").val("Select an option");
        $("#q7").val("Select an option");
        $("#q8").val("Select an option");
        $("#q9").val("Select an option");
        $("#q10").val("Select an option");

      });

    //
   

  });

 

</script>

</body>

</html>